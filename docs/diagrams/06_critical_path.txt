================================================================================
                    PM-SYSTEM - KRITISCHER PFAD & ABHÄNGIGKEITEN
================================================================================

ÜBERSICHT
=========
- Gesamte User Stories: 20
- Abgeschlossen: 15 (75%)
- In Bearbeitung: 1 (Story 16)
- Ausstehend: 4 (Stories 17-20)

================================================================================
TIER-ÜBERSICHT (Ausführungsreihenfolge)
================================================================================

TIER 1: INFRASTRUKTUR (Basis)
├── 001-001 Database Schema .......................... [✓ DONE]
└── 001-002 Permissions & Roles ...................... [✓ DONE]

TIER 2: BACKEND TEMPLATES
├── 002-001 Templates CRUD API ....................... [✓ DONE]
├── 002-002 Step Types ............................... [✓ DONE]
└── 002-003 Field Validation ......................... [✓ DONE]

TIER 3: BACKEND INSTANCES
├── 003-001 Instances CRUD API ....................... [✓ DONE]
├── 003-002 Step Completion .......................... [✓ DONE]
└── 003-003 Process Control .......................... [✓ DONE]

TIER 4: BACKEND SERVICES
├── 004-001 Notifications ............................ [✓ DONE]
├── 004-002 GDPR & Retention ......................... [✓ DONE]
└── 004-003 Analytics ................................ [✓ DONE]

TIER 5: FRONTEND TEMPLATES
├── 005-001 Template List & CRUD ..................... [✓ DONE]
├── 005-002 Step Builder ............................. [✓ DONE]
└── 005-003 Field Builder ............................ [✓ DONE]

TIER 6: FRONTEND INSTANCES
├── 006-001 Instance List ............................ [✓ DONE]
├── 006-002 Step Completion UI ....................... [✓ DONE]
└── 006-003 Instance Detail .......................... [✓ DONE]

TIER 7-8: FRONTEND FEATURES
├── 007-001 Notification Center ...................... [⟳ IN PROGRESS]
├── 008-001 Admin Dashboard .......................... [○ PENDING]
└── 008-002 GDPR & Analytics UI ...................... [○ PENDING]


================================================================================
KRITISCHER PFAD (Längste Abhängigkeitskette)
================================================================================

Der kritische Pfad bestimmt die minimale Projektdauer.
Verzögerungen auf diesem Pfad verzögern das gesamte Projekt.

    ┌─────────────┐
    │  001-001    │  Database Schema
    │  INFRA      │  ← START
    └──────┬──────┘
           │
           ▼
    ┌─────────────┐
    │  002-001    │  Templates CRUD API
    │  BACKEND    │
    └──────┬──────┘
           │
           ▼
    ┌─────────────┐
    │  003-001    │  Instances CRUD API
    │  BACKEND    │
    └──────┬──────┘
           │
           ▼
    ┌─────────────┐
    │  003-002    │  Step Completion
    │  BACKEND    │
    └──────┬──────┘
           │
           ▼
    ┌─────────────┐
    │  006-002    │  Step Completion UI
    │  FRONTEND   │
    └──────┬──────┘
           │
           ▼
    ┌─────────────┐
    │  006-003    │  Instance Detail
    │  FRONTEND   │
    └──────┬──────┘
           │
           ▼
    ┌─────────────┐
    │  007-001    │  Notification Center
    │  FRONTEND   │  ← AKTUELL
    └──────┬──────┘
           │
           ▼
    ┌─────────────┐
    │  008-002    │  GDPR & Analytics UI
    │  FRONTEND   │  ← ENDE
    └─────────────┘

Kritischer Pfad: 8 Stories
Alle Stories auf dem kritischen Pfad sind abgeschlossen bis auf 007-001 (aktuell).


================================================================================
PARALLELE PFADE
================================================================================

Diese Pfade können parallel zum kritischen Pfad bearbeitet werden:

PFAD A: Template Builder (Parallel zu Instances)
─────────────────────────────────────────────────
002-001 ──▶ 005-001 ──▶ 005-002 ──▶ 005-003
            Template    Step        Field
            List        Builder     Builder

PFAD B: Services (Parallel zu Frontend Instances)
─────────────────────────────────────────────────
003-001 ──┬──▶ 004-001 ──▶ 007-001
          │    Notifications
          │
          ├──▶ 004-002 ──▶ 008-002
          │    GDPR         GDPR UI
          │
          └──▶ 004-003 ──▶ 008-001 ──▶ 008-002
               Analytics    Dashboard   Analytics UI


================================================================================
ABHÄNGIGKEITSMATRIX
================================================================================

Legende:
  ◀ = wird benötigt von (Abhängigkeit)
  ▶ = blockiert (wird benötigt für)

Story      │ Benötigt (◀)                    │ Blockiert (▶)
───────────┼─────────────────────────────────┼──────────────────────────
001-001    │ -                               │ 001-002, 002-001
001-002    │ 001-001                         │ 002-001, 003-001
002-001    │ 001-001, 001-002                │ 002-002, 003-001, 005-001
002-002    │ 002-001                         │ 002-003, 003-002, 005-002
002-003    │ 002-002                         │ 003-002, 005-003
003-001    │ 001-002, 002-001                │ 003-002, 003-003, 004-*, 006-001
003-002    │ 002-002, 002-003, 003-001       │ 003-003, 004-003, 006-002
003-003    │ 003-001, 003-002                │ 004-001, 006-003
004-001    │ 003-001, 003-003                │ 007-001
004-002    │ 003-001                         │ 008-002
004-003    │ 003-001, 003-002                │ 008-001, 008-002
005-001    │ 002-001                         │ 005-002
005-002    │ 002-002, 005-001                │ 005-003
005-003    │ 002-003, 005-002                │ 006-002
006-001    │ 003-001                         │ 006-002
006-002    │ 003-002, 005-003, 006-001       │ 006-003
006-003    │ 003-003, 006-002                │ 007-001
007-001    │ 004-001, 006-003                │ -
008-001    │ 004-003                         │ 008-002
008-002    │ 004-002, 004-003, 008-001       │ -


================================================================================
LAUFZEIT-PROZESS (Instanz-Lebenszyklus)
================================================================================

┌────────────────────────────────────────────────────────────────────────────┐
│                              PM-ADMIN                                       │
├────────────────────────────────────────────────────────────────────────────┤
│  [Start] ──▶ Template ──▶ Steps ──▶ Fields ──▶ Publish ──▶ Create Instance │
│               erstellen   hinzu-    konfi-               └──────┬──────────┘
│                          fuegen    gurieren                     │
└─────────────────────────────────────────────────────────────────┼──────────┘
                                                                  │
┌─────────────────────────────────────────────────────────────────┼──────────┐
│                            BEARBEITER                           │          │
├─────────────────────────────────────────────────────────────────┼──────────┤
│                                                                 ▼          │
│              ┌──────────────────────────────────────────────────┐          │
│              │           Aufgabe erhalten                       │◀─────┐   │
│              └──────────────────┬───────────────────────────────┘      │   │
│                                 │                                      │   │
│                    ┌────────────┴────────────┐                         │   │
│                    ▼            ▼            ▼                         │   │
│              ┌─────────┐  ┌─────────┐  ┌─────────┐                     │   │
│              │  Form   │  │ Manual  │  │  Edit   │                     │   │
│              │ pruefen │  │ Aufgabe │  │ erstell │                     │   │
│              └────┬────┘  └────┬────┘  └────┬────┘                     │   │
│                   └────────────┴────────────┘                          │   │
│                                 │                                      │   │
│                                 ▼                                      │   │
│                    ┌────────────────────────┐                          │   │
│                    │   Step abschliessen    │──────────────────────────┘   │
│                    └────────────────────────┘         (Loop)               │
└────────────────────────────────────────────────────────────────────────────┘
                                                                  │
┌─────────────────────────────────────────────────────────────────┼──────────┐
│                              KUNDE                              │          │
├─────────────────────────────────────────────────────────────────┼──────────┤
│                                                                 ▼          │
│         ┌──────────┐    ┌──────────┐    ┌──────────┐    ┌──────────┐      │
│         │  Link    │───▶│ Formular │───▶│ Felder   │───▶│ Absenden │      │
│         │ erhalten │    │  oeffnen │    │ausfuellen│    │          │      │
│         └──────────┘    └──────────┘    └──────────┘    └──────────┘      │
└────────────────────────────────────────────────────────────────────────────┘
                                                                  │
┌─────────────────────────────────────────────────────────────────┼──────────┐
│                             SYSTEM                              │          │
├─────────────────────────────────────────────────────────────────┼──────────┤
│                                                                 ▼          │
│    ┌──────────┐    ┌──────────┐    ┌──────────┐    ┌──────────────────┐   │
│    │ Status   │───▶│ History  │───▶│ Zeit     │───▶│ Letzter Schritt? │   │
│    │ update   │    │ loggen   │    │berechnen │    └────────┬─────────┘   │
│    └──────────┘    └──────────┘    └──────────┘             │             │
│                                                    ┌────────┴────────┐    │
│                                                    ▼                 ▼    │
│                                             [Nein: Loop]    ┌──────────┐  │
│                                                             │ Instanz  │  │
│                                                             │ fertig   │  │
│                                                             └────┬─────┘  │
│                                                                  ▼        │
│    ┌──────────┐    ┌──────────┐    ┌──────────┐    ┌──────────────────┐   │
│    │Retention │───▶│  Cron    │───▶│ Archiv-  │───▶│    [Ende]        │   │
│    │  Timer   │    │ pruefen  │    │  ieren   │    │                  │   │
│    └──────────┘    └──────────┘    └──────────┘    └──────────────────┘   │
└────────────────────────────────────────────────────────────────────────────┘


================================================================================
STEP-TYPEN IM DETAIL
================================================================================

┌─────────────────────────────────────────────────────────────────────────────┐
│ FORM-STEP                                                                   │
├─────────────────────────────────────────────────────────────────────────────┤
│ Verantwortlich: Kunde oder Bearbeiter                                       │
│ Felder: Text, Email, IBAN, PLZ, Telefon, Datum, Dropdown, Datei, etc.      │
│ Validierung: Frontend + Backend (Zod Schema)                                │
│ Completion: Alle required Fields valide                                     │
└─────────────────────────────────────────────────────────────────────────────┘

┌─────────────────────────────────────────────────────────────────────────────┐
│ MANUAL-STEP                                                                 │
├─────────────────────────────────────────────────────────────────────────────┤
│ Verantwortlich: Bearbeiter                                                  │
│ Anweisung: Freitext (was zu tun ist)                                        │
│ Nachweis: Optional (Text oder Datei-Upload)                                 │
│ Completion: Button-Klick (+ Nachweis wenn required)                         │
└─────────────────────────────────────────────────────────────────────────────┘

┌─────────────────────────────────────────────────────────────────────────────┐
│ EDIT-STEP                                                                   │
├─────────────────────────────────────────────────────────────────────────────┤
│ Verantwortlich: Bearbeiter                                                  │
│ Output-Typ: Text (Editor) oder Datei (Upload)                               │
│ Completion: Output muss vorhanden sein                                      │
└─────────────────────────────────────────────────────────────────────────────┘

┌─────────────────────────────────────────────────────────────────────────────┐
│ API-STEP                                                                    │
├─────────────────────────────────────────────────────────────────────────────┤
│ Verantwortlich: Externes System                                             │
│ Trigger: Webhook-Aufruf mit API-Key                                         │
│ UI: "Warten auf externes System" (kein Button)                              │
│ Completion: Nur via POST /webhook/instances/:token/steps/:index/complete    │
└─────────────────────────────────────────────────────────────────────────────┘


================================================================================
Generated: 2026-01-28
================================================================================
