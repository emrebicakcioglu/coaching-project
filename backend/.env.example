# ======================================
# Core Application - Environment Config
# ======================================
# Copy this file to .env and fill in your values
# IMPORTANT: Never commit .env to version control!
#
# Stories:
#   - STORY-001A: Login System Backend (JWT Auth, Rate Limiting 5/min, bcrypt 12 rounds)
#   - STORY-005A: MFA Setup (Backend) - TOTP generation, backup codes, verification
#   - STORY-005B: MFA Login-Flow (Backend) - MFA verification during login, temp tokens, rate limiting
#   - STORY-008: Session Management mit "Remember Me" (Token Rotation, Session List)
#   - STORY-012: Environment Configuration
#   - STORY-013A: In-App Settings Backend (Settings API, Security Settings, Audit Trail)
#   - STORY-017: Theme-System Backend (JSONB theme storage, nested colors, hex validation)
#   - STORY-021A: API-Basis-Infrastruktur (NestJS Setup)
#   - STORY-021B: API Middleware & Error Handling, Resource Endpoints
#   - STORY-022: Swagger/OpenAPI Documentation
#   - STORY-023A: E-Mail Service Setup (Resend.com)
#   - STORY-023B: E-Mail Templates & Queue (Database templates, queue, retry)
#   - STORY-025: Benutzerdaten (User Data Storage) - Repository pattern, bcrypt hashing
#   - STORY-028: System Logging (Audit Trail)
#   - STORY-029: Health Status (SMTP, MinIO health checks)
#   - STORY-035: Support-E-Mail & Session-Timeout
#   - STORY-007A: Rollen-Management Backend (Roles & Permissions API)
#   - STORY-027: Permission-System Core (Granular permissions, OR/AND checks, data-level filtering)
#   - STORY-027B: Permission Guards & Data Filtering (Route guards, data-level filtering, permission hierarchy)
#   - STORY-038A: Feedback-Backend API (Feedback submission with screenshots)
#   - STORY-041B: Feedback Screenshot Storage (MinIO storage, notification emails)
#   - STORY-026A: MinIO Setup (S3-compatible storage, file upload/download API)
#   - STORY-026B: MinIO File API (Pagination support for file listing)
#   - STORY-030: Application Versioning (Version API endpoint, version display)
#   - STORY-023: User Registration (Email verification, rate limiting, password validation)
#   - STORY-041D: Jira Settings API (Jira Cloud integration, encrypted token storage)
#   - STORY-041E: Jira Ticket Creation (Create Jira tickets from feedback)
#
# API Endpoints (STORY-001A, STORY-008, STORY-021B):
#   Users:    /api/v1/users (GET, POST, PUT, DELETE)
#   Auth:     /api/v1/auth/login (STORY-001A: 5 req/min rate limit, rememberMe support)
#   Auth:     /api/v1/auth/logout, /refresh, /forgot-password, /reset-password
#   Register: /api/v1/auth/register (POST) - STORY-023: 3 req/hour rate limit
#   Register: /api/v1/auth/verify-email?token=... (GET) - STORY-023: Email verification
#   Register: /api/v1/auth/resend-verification (POST) - STORY-023: Resend verification email
#   Sessions: /api/v1/auth/sessions (GET, DELETE) - STORY-008
#   Sessions: /api/v1/auth/sessions/all (DELETE) - STORY-008
#   MFA:      /api/auth/mfa/setup (POST) - STORY-005A: Initiate MFA setup
#   MFA:      /api/auth/mfa/verify-setup (POST) - STORY-005A: Verify and enable MFA
#   MFA:      /api/auth/mfa/verify-login (POST) - STORY-005B: Verify TOTP code during login
#   MFA:      /api/auth/mfa/verify-backup-code (POST) - STORY-005B: Verify backup code during login
#   Settings: /api/v1/settings, /api/v1/settings/theme
#   General:  /api/v1/settings/general (GET, PUT) - STORY-035
#   General:  /api/v1/settings/general/timeout-config (GET, public) - STORY-035
#   General:  /api/v1/settings/general/support-email (GET, public) - STORY-035
#   Security: /api/v1/settings/security (GET, PUT) - STORY-013A (admin only)
#   Security: /api/v1/settings/security/reset (POST) - STORY-013A (admin only)
#   Security: /api/v1/settings/security/password-policy (GET, public) - STORY-013A
#   All:      /api/v1/settings/all (GET) - STORY-013A (admin only, all categories)
#   Category: /api/v1/settings/category/:category (GET, PUT) - STORY-013A (admin only)
#   Category: /api/v1/settings/category/:category/reset (POST) - STORY-013A (admin only)
#
# Roles & Permissions API Endpoints (STORY-007A):
#   Roles:       /api/v1/roles (GET, POST)
#   Roles:       /api/v1/roles/:id (GET, PUT, DELETE)
#   Roles:       /api/v1/roles/:id/permissions (POST, DELETE) - Assign/remove permissions
#   Permissions: /api/v1/permissions (GET) - List all permissions
#   Permissions: /api/v1/permissions/grouped (GET) - Permissions by category
#   Permissions: /api/v1/permissions/categories (GET) - List categories
#   Permissions: /api/v1/permissions/:id (GET) - Single permission
#   Permissions: /api/v1/permissions/category/:category (GET) - By category
#
# Email Endpoints (STORY-023B):
#   Email:     /api/v1/email/send (queue email)
#   Templates: /api/v1/email/templates (GET, POST, PUT, DELETE)
#   Queue:     /api/v1/email/queue/status, /api/v1/email/queue
#   Logs:      /api/v1/email/logs
#
# Health Check Endpoints (STORY-029):
#   Legacy:   /health (backward compatible)
#   Full:     /api/health (SMTP, MinIO, Database checks)
#
# Version Endpoint (STORY-030):
#   Version:  /api/version (GET) - Application version information
#
# Feedback Endpoints (STORY-038A, STORY-038B):
#   Feedback: /api/feedback (POST) - Submit feedback with screenshot (5 req/hour rate limit)
#   Features: Browser info capture, route tracking, async email queue (STORY-038B)
#
# Jira Settings Endpoints (STORY-041D):
#   Jira:     GET  /api/v1/settings/jira      - Get Jira settings (token masked)
#   Jira:     PUT  /api/v1/settings/jira      - Update Jira settings (admin only)
#   Jira:     POST /api/v1/settings/jira/test - Test Jira connection (admin only)
#
# Jira Ticket Endpoints (STORY-041E):
#   Jira:     POST /api/v1/admin/feedbacks/:id/jira - Create Jira ticket from feedback (admin only)
#
# API Documentation (STORY-022):
#   Swagger UI: /api/docs
#   OpenAPI JSON: /api/docs-json

# ----------------
# Application
# ----------------
# Environment: development | staging | production
NODE_ENV=development
# Port the application listens on
APP_PORT=4102
# Host the application binds to (use 0.0.0.0 for Docker)
APP_HOST=localhost
# Full URL of the application (used for generating URLs)
APP_URL=http://localhost:4102

# ----------------
# CORS Configuration (STORY-021A)
# ----------------
# Frontend URL for CORS (allows requests from this origin)
FRONTEND_URL=http://localhost:3000

# ----------------
# Database (PostgreSQL) - STORY-024A
# ----------------
# Database host (use 'postgres' for Docker, 'localhost' for local dev)
DB_HOST=localhost
# Database port (default PostgreSQL port is 5432, external mapping is 14101)
DB_PORT=14101
# Database username
DB_USER=postgres
# Database password (minimum 8 characters)
DB_PASSWORD=your_secure_password_here
# Database name
DB_NAME=core_app
# Enable SSL for database connection (true/false)
DB_SSL=false

# ----------------
# Connection Pool Settings - STORY-024A
# ----------------
# Maximum number of connections in the pool (default: 20)
DB_POOL_MAX=20
# Idle timeout in milliseconds (default: 30000 = 30 seconds)
DB_POOL_IDLE_TIMEOUT_MS=30000
# Connection timeout in milliseconds (default: 2000 = 2 seconds)
DB_POOL_CONNECTION_TIMEOUT_MS=2000

# ----------------
# JWT Authentication (STORY-001A, STORY-008)
# ----------------
# JWT secret key (minimum 32 characters, use a strong random string)
# IMPORTANT: Never hardcode in production! Use environment-specific secrets.
JWT_SECRET=your_super_secret_jwt_key_here_min_32_chars
# JWT access token expiration time (STORY-001A: 24h default, STORY-008: 15m recommended)
JWT_EXPIRES_IN=24h
# JWT refresh token expiration time
JWT_REFRESH_EXPIRES_IN=30d

# ----------------
# Session Management (STORY-008)
# ----------------
# Access token expiry for authenticated requests (short-lived for security)
# Recommended: 15 minutes (15m) for enhanced security with auto-refresh
JWT_ACCESS_EXPIRY=15m
# Refresh token expiry WITHOUT "Remember Me" (standard session)
JWT_REFRESH_EXPIRY_SHORT=24h
# Refresh token expiry WITH "Remember Me" (extended session)
JWT_REFRESH_EXPIRY_LONG=30d
# Token cleanup interval in milliseconds (default: 1 hour = 3600000ms)
# How often expired tokens are removed from the database
TOKEN_CLEANUP_INTERVAL_MS=3600000

# ----------------
# Email (Resend.com) - STORY-023A
# ----------------
# Resend API key (starts with 're_') - Get from https://resend.com/api-keys
RESEND_API_KEY=re_xxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxx
# Email sender display name
EMAIL_FROM_NAME=Core Application
# Email sender address (must be verified in Resend dashboard)
EMAIL_FROM_ADDRESS=noreply@yourdomain.com
# Support email for internal notifications (optional, defaults to EMAIL_FROM_ADDRESS)
SUPPORT_EMAIL=support@yourdomain.com
# Maximum retry attempts for failed emails (default: 3)
EMAIL_MAX_RETRIES=3
# Delay between retries in milliseconds (default: 1000)
EMAIL_RETRY_DELAY_MS=1000

# ----------------
# Email Queue (STORY-023B: E-Mail Templates & Queue)
# ----------------
# Enable/disable email queue processing (true/false)
# When disabled, emails are sent synchronously
EMAIL_QUEUE_ENABLED=true
# Queue processing interval in milliseconds (default: 5000 = 5 seconds)
# How often the queue is checked for pending emails
EMAIL_QUEUE_PROCESS_INTERVAL=5000
# Maximum retry attempts for failed queue items (default: 3)
EMAIL_RETRY_MAX=3
# Base retry delay in milliseconds (default: 5000 = 5 seconds)
# Actual delay uses exponential backoff: delay * 2^(retryCount-1)
EMAIL_RETRY_DELAY=5000
# Maximum emails per minute (rate limiting to prevent spam)
EMAIL_RATE_LIMIT=60

# ----------------
# Redis (STORY-023B: Email Queue)
# ----------------
# Redis connection URL (optional, falls back to database-only queue if not set)
# Format: redis://[username:password@]host[:port][/database]
# For Docker: redis://redis:6379
# For local dev: redis://localhost:14103
REDIS_URL=redis://localhost:14103

# ----------------
# SMTP Configuration (STORY-029: Health Status)
# ----------------
# SMTP server hostname for health checks
# Leave empty/unset to skip SMTP health check (graceful degradation)
SMTP_HOST=
# SMTP server port (default: 587 for STARTTLS, 465 for SSL, 25 for plain)
SMTP_PORT=587
# SMTP health check timeout in milliseconds (default: 5000 = 5 seconds)
# Maximum time to wait for SMTP server response
SMTP_CHECK_TIMEOUT=5000

# ----------------
# File Storage (MinIO - STORY-026A: MinIO Setup, STORY-029: Health Check)
# ----------------
# MinIO server endpoint
# Leave empty/unset to skip storage health check (graceful degradation)
# For Docker: use 'minio' (service name), for local dev: use 'localhost'
MINIO_ENDPOINT=
# MinIO API port (internal: 9000, external via docker-compose: 14104)
MINIO_PORT=14104
# MinIO console port (internal: 9001, external via docker-compose: 14105)
MINIO_CONSOLE_PORT=14105
# Enable SSL for MinIO connection
MINIO_USE_SSL=false
# MinIO access key (root user)
MINIO_ACCESS_KEY=minioadmin
# MinIO secret key (root password)
MINIO_SECRET_KEY=minioadmin
# Legacy: MinIO bucket name for uploads (deprecated, use specific buckets below)
MINIO_BUCKET=core-app-uploads
# STORY-026A: Bucket configuration
# Bucket for general file uploads
MINIO_BUCKET_UPLOADS=uploads
# Bucket for logo/branding files
MINIO_BUCKET_LOGOS=logos
# Bucket for feedback screenshots
MINIO_BUCKET_FEEDBACK=feedback
# Storage health check timeout in milliseconds (default: 5000 = 5 seconds)
# Maximum time to wait for MinIO server response (STORY-029)
STORAGE_CHECK_TIMEOUT=5000
#
# MinIO Console Access:
#   URL: http://localhost:14105
#   Login with MINIO_ACCESS_KEY / MINIO_SECRET_KEY
#
# File Storage API Endpoints (STORY-026A, STORY-026B):
#   POST   /api/v1/files/upload              - Upload a file
#   GET    /api/v1/files/:fileName           - Download a file
#   GET    /api/v1/files                     - List files (with pagination: ?page=1&limit=20)
#   DELETE /api/v1/files/:fileName           - Delete a file
#   GET    /api/v1/files/:fileName/presigned - Get presigned download URL
#   POST   /api/v1/files/presigned-upload    - Get presigned upload URL
#   GET    /api/v1/files/:fileName/exists    - Check if file exists

# ----------------
# Security (STORY-001A, STORY-025)
# ----------------
# BCrypt rounds for password hashing (STORY-001A, STORY-025: 12 rounds required)
# Higher values increase security but also CPU time
# STORY-025: PasswordService uses this for all user password operations
# Range: 4-31 (recommended: 10-14, default: 12)
BCRYPT_ROUNDS=12

# ----------------
# Rate Limiting (STORY-001A, STORY-021B)
# ----------------
# Rate limiting window in milliseconds (60000 = 1 minute)
# This is the time window for counting requests
RATE_LIMIT_WINDOW_MS=60000
# Maximum requests per rate limit window per client IP
# Can be overridden per-endpoint with @RateLimit decorator
# NOTE: Login endpoint uses stricter limit of 5 req/min (STORY-001A)
RATE_LIMIT_MAX_REQUESTS=100

# ----------------
# Logging (STORY-021A, STORY-021B, STORY-027)
# ----------------
# Log level: debug | info | warn | error
# debug: All logs including request/response details
# info: Standard operational logs (recommended for production)
# warn: Warnings and errors only
# error: Errors only
LOG_LEVEL=info
# Path to log file (legacy, kept for backward compatibility)
LOG_FILE_PATH=./logs/app.log

# STORY-027: Daily rotating log configuration
# Directory for log files (combined-YYYY-MM-DD.log, error-YYYY-MM-DD.log)
LOG_DIR=./logs
# Maximum days to keep log files (e.g., '14d' for 14 days, '7d' for 7 days)
LOG_MAX_FILES=14d
# Maximum size per log file before rotation (e.g., '20m' for 20MB, '100m' for 100MB)
LOG_MAX_SIZE=20m

# ----------------
# Audit Logging (STORY-028: System Logging - Audit Trail)
# ----------------
# Enable/disable audit logging (true/false)
# When enabled, important system events are logged to the audit_logs table
# Events include: user login/logout, registration, password changes, role changes, settings updates
AUDIT_LOG_ENABLED=true
# Log all API requests to audit trail (true/false)
# WARNING: Setting to 'true' will increase database writes significantly
# Recommended: 'false' for production, 'true' only for debugging/compliance
AUDIT_LOG_API_REQUESTS=false
# Log read-only requests (GET/HEAD/OPTIONS) when API logging is enabled (true/false)
# Only applies when AUDIT_LOG_API_REQUESTS=true
# Set to 'false' to only log mutating requests (POST/PUT/PATCH/DELETE)
AUDIT_LOG_READ_ONLY=true

# ----------------
# API Documentation (STORY-022: Swagger/OpenAPI)
# ----------------
# Enable/disable Swagger UI (true/false)
# Default: true in development/staging, false in production
# Set to 'true' to expose API documentation at /api/docs
SWAGGER_ENABLED=true

# ----------------
# Session Timeout (STORY-035: Support-E-Mail & Session-Timeout)
# ----------------
# Default session timeout in minutes (used when not configured in database)
# Range: 1-1440 (1 minute to 24 hours)
# This is only used as fallback when database settings are not available
DEFAULT_SESSION_TIMEOUT_MINUTES=30
# Whether to show session timeout warning by default
DEFAULT_SHOW_TIMEOUT_WARNING=true
# Minutes before timeout to show warning
DEFAULT_WARNING_BEFORE_TIMEOUT_MINUTES=5

# ----------------
# Permission System (STORY-027: Permission-System Core, STORY-027B: Permission Guards & Data Filtering)
# ----------------
# Permission cache TTL in milliseconds (default: 300000 = 5 minutes)
# User permissions are cached to reduce database queries
# Cache is automatically invalidated when roles change
PERMISSION_CACHE_TTL_MS=300000
# Permission hierarchy cache TTL in milliseconds (default: 600000 = 10 minutes)
# Permission hierarchy (parent-child relationships) is cached for longer
PERMISSION_HIERARCHY_CACHE_TTL_MS=600000

# ----------------
# Data-Level Filtering (STORY-027B: Permission Guards & Data Filtering)
# ----------------
# Data filtering is automatic based on user role:
# - Admin: Full access to all data (no filtering)
# - Manager: Access to team members' data (via team_members table)
# - User: Access to own data only (user_id filter)
#
# Note: team_members table is required for manager-level filtering
# Table structure:
#   CREATE TABLE team_members (
#     id SERIAL PRIMARY KEY,
#     team_id INTEGER NOT NULL,
#     user_id INTEGER NOT NULL,
#     is_manager BOOLEAN DEFAULT FALSE
#   );

# ----------------
# MFA Configuration (STORY-005A: MFA Setup Backend, STORY-005B: MFA Login-Flow)
# ----------------
# Issuer name displayed in authenticator apps (e.g., Google Authenticator, Authy)
# This appears as the app name when users scan the QR code
MFA_ISSUER=CoreApp
# Secret for signing MFA temporary tokens (STORY-005B)
# Should be different from JWT_SECRET for security (minimum 32 characters)
# If not set, falls back to JWT_SECRET
MFA_TEMP_TOKEN_SECRET=your_mfa_temp_token_secret_min_32_chars
# MFA temporary token expiry in seconds (default: 300 = 5 minutes)
# This is how long the user has to enter their MFA code after login
MFA_TEMP_TOKEN_EXPIRY=300
# MFA lockout duration in seconds after too many failed attempts (default: 900 = 15 minutes)
MFA_LOCKOUT_DURATION=900

# ----------------
# Security Settings (STORY-013A: In-App Settings Backend)
# ----------------
# These are default values stored in the database app_settings table.
# They can be modified at runtime via the Settings API.
#
# Security Settings API Endpoints:
#   GET  /api/v1/settings/security         - Get security settings (admin only)
#   PUT  /api/v1/settings/security         - Update security settings (admin only)
#   POST /api/v1/settings/security/reset   - Reset to defaults (admin only)
#   GET  /api/v1/settings/security/password-policy - Get password policy (public)
#
# Security Settings Structure:
#   {
#     "max_login_attempts": 5,       - Max failed attempts before lockout (1-100)
#     "password_min_length": 8,       - Minimum password length (6-128)
#     "password_require_uppercase": true,
#     "password_require_lowercase": true,
#     "password_require_numbers": true,
#     "password_require_special_chars": true,
#     "session_inactivity_timeout": 15 - Minutes before session expires (1-1440)
#   }
#
# Default values are defined in code (DEFAULT_SECURITY_SETTINGS) and applied
# when the database has no custom settings. Initial defaults are set via
# database migration 020-add-security-settings.sql
#
# Settings History:
#   All settings changes are logged to the settings_history table for audit.
#   Migration 019-create-settings-history-table.sql creates this table.

# ----------------
# Theme Configuration (STORY-017: Theme-System Backend)
# ----------------
# Default theme colors are applied when no custom theme is configured.
# The theme API stores colors in PostgreSQL JSONB format.
# All colors must be valid hex format (#RGB or #RRGGBB).
#
# API Endpoints:
#   GET  /api/v1/settings/theme - Retrieve current theme configuration
#   PUT  /api/v1/settings/theme - Update theme configuration (requires auth)
#
# Theme Structure:
#   {
#     "primary": "#2563eb",      - Main brand color
#     "secondary": "#7c3aed",    - Secondary brand color
#     "background": {
#       "page": "#ffffff",       - Page background color
#       "card": "#f9fafb"        - Card/container background color
#     },
#     "text": {
#       "primary": "#111827",    - Primary text color
#       "secondary": "#6b7280"   - Secondary/muted text color
#     },
#     "status": {
#       "success": "#10b981",    - Success indicator color
#       "warning": "#f59e0b",    - Warning indicator color
#       "error": "#ef4444"       - Error indicator color
#     }
#   }
#
# Note: Default theme is defined in code (DEFAULT_THEME_COLORS) and applied
# when the database has no custom theme. Initial defaults are also set via
# database migration 018-enhance-theme-colors-structure.sql

# ----------------
# Language/i18n Settings (STORY-018A: Standard-Sprache Backend)
# ----------------
# Default language code for new users (en, de)
DEFAULT_LANGUAGE=en
# Comma-separated list of supported language codes
SUPPORTED_LANGUAGES=en,de
# Fallback language when requested language is unavailable
FALLBACK_LANGUAGE=en

# ----------------
# Feedback Configuration (STORY-038A, STORY-038B, STORY-041B)
# ----------------
# Enable async email queue for feedback (default: true)
# When enabled, feedback emails are processed asynchronously
FEEDBACK_USE_QUEUE=true
# Priority level for feedback emails in the queue (default: 5)
# Higher values = higher priority (range: 0-10)
FEEDBACK_QUEUE_PRIORITY=5
# Rate limit: Maximum feedback submissions per user per hour (default: 5)
# This is enforced by the @RateLimit decorator on the feedback endpoint
FEEDBACK_RATE_LIMIT_MAX=5
# Rate limit window in seconds (default: 3600 = 1 hour)
FEEDBACK_RATE_LIMIT_WINDOW_SECONDS=3600

# ----------------
# Admin Panel URL (STORY-041B: Feedback Screenshot Storage)
# ----------------
# Base URL for the admin panel (used in email notification links)
# Example: http://localhost:3000 or https://admin.yourdomain.com
# STORY-041B: Admin receives email with link to view feedback in admin panel
ADMIN_URL=http://localhost:3000

# ----------------
# Application Versioning (STORY-030: Application Versioning)
# ----------------
# Build number (optional, set during CI/CD)
# This is appended to the version display in the UI
# Example: "12345" -> v1.0.0-12345
BUILD_NUMBER=
# Git commit hash (optional, set during CI/CD)
# Useful for tracing deployed versions back to source
# Example: Full commit hash, will be truncated to 12 characters for display
GIT_COMMIT=

# ----------------
# User Registration (STORY-023: User Registration)
# ----------------
# Email verification token expiry time
# Supports formats like "24h", "7d", "60m"
# Default: 24 hours
VERIFICATION_TOKEN_EXPIRY=24h
# Registration rate limiting (implemented via @RateLimit decorator)
# Max 3 registrations per IP per hour (hardcoded in controller)

# ----------------
# Encryption Settings (STORY-041D: Jira Settings API)
# ----------------
# 32-byte (64 hex character) key for AES-256-GCM encryption
# Used to encrypt sensitive data like API tokens before storing in database
# IMPORTANT: Generate a unique key for each environment and keep it secure!
# Generate with: node -e "console.log(require('crypto').randomBytes(32).toString('hex'))"
# If not set, Jira API token encryption will fail
ENCRYPTION_KEY=

# ----------------
# Jira Integration (STORY-041D: Jira Settings API)
# ----------------
# Jira Cloud integration is configured via the Settings API at runtime.
# Settings are stored in the database (app_settings.integrations JSONB).
# API Token is encrypted using ENCRYPTION_KEY before storage.
#
# API Endpoints:
#   GET  /api/v1/settings/jira      - Get Jira settings (token masked)
#   PUT  /api/v1/settings/jira      - Update Jira settings
#   POST /api/v1/settings/jira/test - Test Jira connection
#
# Required for Jira integration to work:
#   1. Set ENCRYPTION_KEY above
#   2. Configure settings via PUT /api/v1/settings/jira:
#      - url: company.atlassian.net
#      - email: jira-api@company.com
#      - apiToken: Your Jira API token
#      - projectKey: FEEDBACK
#      - issueType: Bug
#      - enabled: true

# ----------------
# Frontend (Optional)
# ----------------
# Frontend API URL (for CORS configuration)
VITE_API_URL=http://localhost:4102/api
